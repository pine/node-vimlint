language: node_js
node_js:
  - '0.10'
  - '0.12'
  - iojs

script:
  # Test postinstall
  - rm -rf node_modules
  - npm install .
  - npm install

  # Test
  - npm test

  # Test global install
  - npm install . -g
  - vimlint
  - vimlint --help
  - vimlint --version
  - vimlint test/succeeded.vim
  - vimlint test/failed.vim; [ $? != 0 ]

after_success:
  - npm run coverage

env:
  global:
    secure: "bYfP25nebZwoiWjp3SSfYSKyTmNZHThI5P0MVSuFlFW3PyPPC+MmToYrzLZc6qe03We+dhV7FPMfM1QZmhTfBiaB21t7tkTYW7Krpri6nbNm6TNLlIv8/HUfPEwJur4FUph38z0hPlS9rgS8SqljvahGnxfVDhU3znUdm54Nqdg="

notifications:
  slack:
    secure: "JuCCOZnpisbqx2O/COCDS7ycUBd+Ywb+SursT1oLMAsAPkGBqZW79hFqd0tbjicrvYffyE73ZCTYBVatO1L4EENjvUCKMtedJqL84aat1YoIGyyvIYTkhmSEAarC5Y/xV01UkRX7dA8D/ZKUIm+8JlsFto1atjQ8pA8dxe4A5U3SUMJkxfxiRjLgCzGlPWtShIK84RLwapYQBKVW4MbL0iNMzq4am3E1bi8FU//pHhh2Lw+ygw4FtEpAKJnzMAP/bT+MkWknyyEshNiLb3hvYmvBpXGg/wkCTOTm2YP59vYbj+uxzQijj3hkOp9ygTID5MRKG+zwkIWBSPV3a/Bs/i6h9WERjc8nwhCZIloAy3SeX5ZLJJ1Qzm4fz0dpRHGs5arHH1DHMbxdawkGrUVirL0VRcO/+/9QgRnWUMtENBFjOo/nMWeYs1z7IuYX6u8hAlDTp8Ir9No2g7XgiqQ/YQksRd43/Q2804tug7sM3Tm59gfLmfSa/urF3A53eNn3jrvN6IvdhMJXSaSN0DHjoqAl6MOK8i7Y7XcKsoS/pWpHLS/jHl9Lw3H+89TY65+0jauY4VaH8YFCDJErIsoDjKtGJmOJ8jvSAY+8+bC0elpW4NhrnIyCa3bF8Gl2sh5NuzcpyTz8UaONX+lcdl8p3VNrcd/Ml0Q1QWRNJbJSlz4="


sudo: false
